{"data":{"site":{"siteMetadata":{"title":"Gatsby Gitbook | YugaByte DB","docsLocation":"https://github.com/YugaByte/yugabyte-db/wiki"}},"mdx":{"fields":{"id":"77d429cd-3eb0-593e-8474-647e762a02d8","title":"Sports DB Sample Database","slug":"/ysql/SportsDB-Sample-Database"},"code":{"body":"function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsx mdx */\nvar _frontmatter = {};\n\nvar makeShortcode = function makeShortcode(name) {\n  return function MDXDefaultShortcode(props) {\n    console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n    return mdx(\"div\", props);\n  };\n};\n\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, mdx(\"a\", {\n    href: \"http://www.sportsdb.org/sd\"\n  }, \"SportsDB\"), \" is a sample dataset compiled from multiple sources, encompassing a variety of sports including football, baseball, ice hockey and more. It also cross-references many different types of content media. It is capable of supporting queries for the most intense of sports data applications, yet is simple enough for use by those with minimal database experience. The database itself is comprised of over 100 tables and just as many sequences, unique constraints, foreign keys and indexes. The dataset also includes almost 80k rows of data. It has been ported to MySQL, SQL Server and PostgreSQL. You can check out a detailed ER diagram \", mdx(\"a\", {\n    href: \"http://www.sportsdb.org/modules/sd/assets/downloads/sportsdb-27.jpg\"\n  }, \"here.\")), mdx(\"p\", null, mdx(\"img\", _extends({\n    parentName: \"p\"\n  }, {\n    \"src\": \"https://blog.yugabyte.com/wp-content/uploads/2019/07/sportsdb-distrbutedsql-postgresql-01.png\",\n    \"alt\": \"SportsDB ER Diagram\"\n  }))), mdx(\"p\", null, \"In this post we are going to walk you through how to download and install the PostgreSQL compatible version of SportsDB onto the YugaByte DB distributed SQL database with a replication factor of 3.\"), mdx(\"p\", null, mdx(\"h2\", {\n    style: {\n      \"textAlign\": \"left\"\n    }\n  }, \"Download and Install YugaByte DB\"), \"\\nThe latest instructions on how to get up and running are on our Quickstart page here:\"), mdx(\"p\", null, mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://docs.yugabyte.com/latest/quick-start/\"\n  }), \"https://docs.yugabyte.com/latest/quick-start/\")), mdx(\"strong\", null, \"Note:\"), \" Due to the hardware limitations of my laptop and size of the scripts, I temporarily bumped up the available memory accessible to YugaByte by adding the above \", mdx(\"code\", null, \"tserver_flags\"), \" argument. Depending on your setup, you might need to bump it up as well if you see errors like the one below while executing the database scripts. For example:\", mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {}), \"Service unavailable (yb/tserver/tablet_service.cc:239): Soft memory limit exceeded (at 96.13% of capacity)\\n\")), mdx(\"p\", null, \"If you see the above error, try:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {}), \"$ ./bin/yb-ctl --rf 3 create --tserver_flags \\\"memory_limit_hard_bytes=6442450944\\u201D\\n\")), mdx(\"p\", null, mdx(\"h2\", {\n    style: {\n      \"textAlign\": \"left\"\n    }\n  }, \"Download and Install the SportsDB Database\"), \"\\n\", mdx(\"h3\", null, \"Download the SportsDB Scripts\"), \"\\nYou can download the SportsDB database that is compatible with YugaByte DB from our GitHub repo. The five files you\\u2019ll need are:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"em\", {\n    parentName: \"li\"\n  }, mdx(\"a\", _extends({\n    parentName: \"em\"\n  }, {\n    \"href\": \"https://github.com/YugaByte/yugabyte-db/blob/master/sample/sportsdb_tables.sql\"\n  }), \"sportsdb_tables.sql\")), \" which creates tables and sequences\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"em\", {\n    parentName: \"li\"\n  }, mdx(\"a\", _extends({\n    parentName: \"em\"\n  }, {\n    \"href\": \"https://github.com/YugaByte/yugabyte-db/blob/master/sample/sportsdb_inserts.sql\"\n  }), \"sportsdb_inserts.sql\")), \" which loads the sample data into the sportsdb database\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"em\", {\n    parentName: \"li\"\n  }, mdx(\"a\", _extends({\n    parentName: \"em\"\n  }, {\n    \"href\": \"https://github.com/YugaByte/yugabyte-db/blob/master/sample/sportsdb_constraints.sql\"\n  }), \"sportsdb_constraints.sql\")), \" which creates unique constraints\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"em\", {\n    parentName: \"li\"\n  }, mdx(\"a\", _extends({\n    parentName: \"em\"\n  }, {\n    \"href\": \"https://github.com/YugaByte/yugabyte-db/blob/master/sample/sportsdb_fks.sql\"\n  }), \"sportsdb_fks.sql\")), \" which creates foreign key constraints\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"em\", {\n    parentName: \"li\"\n  }, mdx(\"a\", _extends({\n    parentName: \"em\"\n  }, {\n    \"href\": \"https://github.com/YugaByte/yugabyte-db/blob/master/sample/sportsdb_indexes.sql\"\n  }), \"sportsdb_indexes.sql\")), \" which creates indexes\")), mdx(\"p\", null, \"We\\u2019ve purposely broken up what would otherwise be a very large script. By breaking it up into building blocks, it\\u2019ll be easier to see what YugaByteDB is doing and spot any problems (if you encounter them) a lot easier.\\n\", mdx(\"h3\", null, \"Create the SportsDB Database\")), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {}), \"CREATE DATABASE sportsdb;\\n\")), mdx(\"p\", null, \"Let\\u2019s confirm we have the sportsdb database by listing out the databases on our cluster.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {}), \"postgres=# \\\\l\\n\")), mdx(\"p\", null, \"Switch to the \", mdx(\"em\", null, \"sportsdb\"), \" database.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {}), \"postgres=# \\\\c sportsdb\\nYou are now connected to database \\\"sportsdb\\\" as user \\\"postgres\\\".\\nsportsdb=#\\n\")), mdx(\"p\", null, mdx(\"h3\", null, \"Build the SportsDB Tables and Sequences\")), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {}), \"sportsdb=# \\\\i /Users/yugabyte/sportsdb_tables.sql\\n\")), mdx(\"p\", null, \"We can verify that all 203 tables and sequences have been created by executing:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {}), \"sportsdb=# \\\\d\\n\")), mdx(\"p\", null, mdx(\"h3\", null, \"Load Sample Data into SportsDB\"), \"\\nNext, let\\u2019s load our database with sample data, ~80k rows.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {}), \"sportsdb=# \\\\i /Users/yugabyte/sportsdb_inserts.sql\\n\")), mdx(\"p\", null, \"Let\\u2019s do a simple SELECT to pull data from the \", mdx(\"em\", null, \"basketball_defensive_stats\"), \" table to verify we now have some data to play with.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {}), \"sportsdb=# SELECT * FROM basketball_defensive_stats WHERE steals_total = '5';\\n\")), mdx(\"p\", null, mdx(\"h3\", null, \"Create Unique Constraints and Foreign Keys\"), \"\\nNext, let\\u2019s create our unique constraints and foreign keys by executing:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {}), \"sportsdb=# \\\\i /Users/yugabyte/sportsdb_constraints.sql\\n\")), mdx(\"p\", null, \"and\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {}), \"sportsdb=# \\\\i /Users/yugabyte/sportsdb_fks.sql\\n\")), mdx(\"p\", null, mdx(\"h3\", null, \"Create Indexes\"), \"\\nFinally, let\\u2019s create our indexes by executing:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {}), \"sportsdb=# \\\\i /Users/yugabyte/sportsdb_indexes.sql\\n\")), mdx(\"strong\", null, \"Note:\"), \" If you have worked with the SportDB sample database in the past, you know that the index creation section specifies the use of a BTREE index. YugaByte DB makes use of LSM trees, so we\\u2019ve modified the script as such. You can read more about LSM vs BTREE in our post, \", mdx(\"a\", {\n    href: \"https://blog.yugabyte.com/a-busy-developers-guide-to-database-storage-engines-the-basics/\"\n  }, \"\\u201CA Busy Developer\\u2019s Guide to Database Storage Engines\\u200A - \\u200AThe Basics.\\u201D\"), \" Even if we had not specified LSM, you would have seen an informational message that advised you that YugaByte DB had made the switch behind the scenes.\", mdx(\"h2\", {\n    style: {\n      \"textAlign\": \"left\"\n    }\n  }, \"Explore SportsDB\"), \"That\\u2019s it! You are ready to start exploring SportsDB running on YugaByte DB using your favorite PostgreSQL admin or development tool. You can learn more about the SportsDB project, libraries, samples, web services and more by visiting the project page \", mdx(\"a\", {\n    href: \"http://www.sportsdb.org/sd\"\n  }, \"here.\"));\n}\nMDXContent.isMDXComponent = true;"},"tableOfContents":{},"parent":{"__typename":"File","relativePath":"ysql/SportsDB-Sample-Database.md"},"frontmatter":{"metaTitle":null,"metaDescription":null}},"allMdx":{"edges":[{"node":{"fields":{"slug":"/","title":"Landing Page"}}},{"node":{"fields":{"slug":"/ysql/Home","title":"Home"}}},{"node":{"fields":{"slug":"/ysql/Northwind-Sample-Database","title":"Northwind Sample Database"}}},{"node":{"fields":{"slug":"/ysql/Chinook-Sample-Database","title":"Chinook Sample Database"}}},{"node":{"fields":{"slug":"/ysql/PGExercises","title":"PG Exercises"}}},{"node":{"fields":{"slug":"/ysql/SportsDB-Sample-Database","title":"Sports DB Sample Database"}}},{"node":{"fields":{"slug":"/introduction","title":"Introduction"}}},{"node":{"fields":{"slug":"/ysql/YSQL-Tutorial:-Prerequisites","title":"YSQL Tutorial Prerequisites"}}},{"node":{"fields":{"slug":"/ysql/YSQL-and-PostgreSQL-Compatibility-Resources","title":"YSQL And Postgre SQL Compatibility Resources"}}}]}},"pageContext":{"isCreatedByStatefulCreatePages":false,"id":"77d429cd-3eb0-593e-8474-647e762a02d8"}}